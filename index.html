<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flirty Mini-Game</title>
    <style>
        @font-face {
            font-family: 'Feelfree';
            src: url('https://fonts.cdnfonts.com/s/19185/Feelfree.ttf') format('truetype');
        }

        body {
            margin: 0;
            padding: 0;
            background-color: #51e2f5;
            font-family: 'Feelfree', sans-serif;
            overflow: hidden;
        }

        h1 {
            text-align: center;
            color: #edf756;
            text-shadow: 2px 2px 5px #ffa8b6;
            margin-top: 20px;
        }

        canvas {
            display: block;
            margin: 0 auto;
            background-color: #9df9ef;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        .pickup-line {
            text-align: center;
            font-size: 24px;
            color: #ffa8b6;
            margin-top: 10px;
        }

        #endMessage {
            text-align: center;
            font-size: 28px;
            color: #edf756;
            display: none;
        }
    </style>
</head>
<body>

<h1>Catch My Heart ‚ù§Ô∏è</h1>
<canvas id="gameCanvas" width="600" height="400"></canvas>
<div class="pickup-line" id="pickupLine">Catch hearts to unlock my pickup lines!</div>
<div id="endMessage">You were too cute to play it! üòç</div>

<audio id="backgroundMusic" loop>
    <source src="path_to_stereo_hearts.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>

<script>
    // Game Setup
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    // Variables
    const basket = { x: canvas.width / 2 - 40, y: canvas.height - 50, width: 80, height: 20 };
    const hearts = [];
    const heartRadius = 10;
    let score = 0;

    const pickupLines = [
        "Are you a magician? Because whenever I look at you, everyone else disappears!",
        "Do you have a map? I just got lost in your eyes.",
        "Are you made of copper and tellurium? Because you're Cu-Te.",
        "Is your name Google? Because you've got everything I'm searching for.",
        "You must be the square root of -1 because you can't be real.",
        "If looks could kill, you'd be a weapon of mass seduction.",
        "Can I borrow a kiss? I promise I'll give it back."
    ];

    let currentPickupLine = 0;

    // Background Music
    const backgroundMusic = document.getElementById("backgroundMusic");
    backgroundMusic.play();

    // Basket Movement
    document.addEventListener("keydown", (event) => {
        if (event.key === "ArrowLeft" && basket.x > 0) {
            basket.x -= 20;
        } else if (event.key === "ArrowRight" && basket.x + basket.width < canvas.width) {
            basket.x += 20;
        }
    });

    // Create Falling Hearts
    function createHeart() {
        const x = Math.random() * (canvas.width - heartRadius * 2) + heartRadius;
        hearts.push({ x, y: -heartRadius });
    }

    // Update Game State
    function updateGame() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Draw Basket
        ctx.fillStyle = "#ffa8b6";
        ctx.fillRect(basket.x, basket.y, basket.width, basket.height);

        // Draw Hearts
        for (let i = hearts.length - 1; i >= 0; i--) {
            const heart = hearts[i];
            ctx.beginPath();
            ctx.arc(heart.x, heart.y, heartRadius, 0, Math.PI * 2);
            ctx.fillStyle = "#edf756";
            ctx.fill();
            ctx.closePath();

            heart.y += 2; // Move heart down

            // Check if heart is caught
            if (
                heart.y + heartRadius > basket.y &&
                heart.x > basket.x &&
                heart.x < basket.x + basket.width
            ) {
                hearts.splice(i, 1); // Remove caught heart
                score++;

                if (currentPickupLine < pickupLines.length) {
                    document.getElementById("pickupLine").innerText =
                        pickupLines[currentPickupLine];
                    currentPickupLine++;
                } else if (currentPickupLine === pickupLines.length) {
                    document.getElementById("pickupLine").innerText =
                        "";
                    document.getElementById("endMessage").style.display =
                        "block";
                }
                continue;
            }

            // Remove hearts that fall off-screen
            if (heart.y > canvas.height) {
                hearts.splice(i, 1);
            }
        }

        if (score >= pickupLines.length) return; // Stop game when all lines are unlocked

        requestAnimationFrame(updateGame);
    }

    // Start Game Loop and Heart Generation
    setInterval(createHeart, 1000); // Generate new hearts every second
    updateGame();
</script>

</body>
</html>
